{"ast":null,"code":"import _regeneratorRuntime from\"/Users/akshith/Documents/GitHub/Stocks-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/akshith/Documents/GitHub/Stocks-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/akshith/Documents/GitHub/Stocks-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import StockCard from'../components/Stock_card';import Navbar from'../components/Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PopularPage=function PopularPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stocks=_useState2[0],setStocks=_useState2[1];useEffect(function(){var fetchUserStocks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,stockss;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://127.0.0.1:5000/api/popular_stocks\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;stockss=data.stocks;setStocks(stockss);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log('Error fetching user stocks:',_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchUserStocks(){return _ref.apply(this,arguments);};}();// Fetch user's stocks when the component mounts\nfetchUserStocks();},[]);var addToPortfolio=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(stock){var email,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;console.log('Adding stock to portfolio:',stock);// Make the API request to add the stock to the portfolio\nemail=localStorage.getItem('email');_context2.next=5;return fetch(\"http://127.0.0.1:5000/users/\".concat(email,\"/portfolio\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(stock)});case 5:response=_context2.sent;if(response){console.log(response);}else{console.log(\"no response\");}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log('Error adding stock to portfolio:',_context2.t0);// Add your logic here for handling the error in adding the stock to the portfolio\ncase 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}));return function addToPortfolio(_x){return _ref2.apply(this,arguments);};}();var addToWatchlist=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(stock){var email,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;console.log('Adding stock to watchlist:',stock);// Make the API request to add the stock to the watchlist\nemail=localStorage.getItem('email');_context3.next=5;return fetch(\"http://127.0.0.1:5000/users/\".concat(email,\"/watchlist\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(stock)});case 5:response=_context3.sent;if(response){console.log(response);}else{console.log(\"no response\");}_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log('Error adding stock to watchlist:',_context3.t0);// Add your logic here for handling the error in adding the stock to the watchlist\ncase 12:case\"end\":return _context3.stop();}},_callee3,null,[[0,9]]);}));return function addToWatchlist(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 min-h-screen\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white mb-4\",children:\"Popular Stocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stock-cards grid grid-cols-2 gap-4\",children:stocks.length>0?stocks.map(function(stock){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-creamwhite rounded-lg p-4 flex flex-col justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow\",children:/*#__PURE__*/_jsx(StockCard,{stock:stock})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\",onClick:function onClick(){return addToPortfolio(stock);},children:\"Add to Portfolio\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg ml-4\",onClick:function onClick(){return addToWatchlist(stock);},children:\"Add to Watchlist\"})]})]},stock.symbol);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:\"No stocks in section\"})})]})]});};export default PopularPage;","map":{"version":3,"names":["React","useState","useEffect","StockCard","Navbar","jsx","_jsx","jsxs","_jsxs","PopularPage","_useState","_useState2","_slicedToArray","stocks","setStocks","fetchUserStocks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","stockss","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","log","stop","apply","arguments","addToPortfolio","_ref2","_callee2","stock","email","_callee2$","_context2","localStorage","getItem","concat","method","headers","body","JSON","stringify","_x","addToWatchlist","_ref3","_callee3","_callee3$","_context3","_x2","className","children","length","map","onClick","symbol"],"sources":["/Users/akshith/Documents/GitHub/Stocks-App/src/pages/Popular.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport StockCard from '../components/Stock_card';\nimport Navbar from '../components/Navbar';\n\n\nconst PopularPage = () => {\n  const [stocks, setStocks] = useState([]);\n\n  useEffect(() => {\n    const fetchUserStocks = async () => {\n      try {\n        const response = await fetch(`http://127.0.0.1:5000/api/popular_stocks`);\n        const data = await response.json();\n        const stockss = data.stocks\n        setStocks(stockss);\n      } catch (error) {\n        console.log('Error fetching user stocks:', error);\n      }\n    };\n\n    // Fetch user's stocks when the component mounts\n    fetchUserStocks();\n  }, []);\n\n  const addToPortfolio = async (stock) => {\n    try {\n      console.log('Adding stock to portfolio:', stock);\n      // Make the API request to add the stock to the portfolio\n      const email = localStorage.getItem('email');\n      const response = await fetch(`http://127.0.0.1:5000/users/${email}/portfolio`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(stock)\n      });\n      if (response) {\n        console.log(response);\n      } else {\n        console.log(\"no response\");\n      }\n    } catch (error) {\n      console.log('Error adding stock to portfolio:', error);\n      // Add your logic here for handling the error in adding the stock to the portfolio\n    }\n  };\n\n  const addToWatchlist = async (stock) => {\n    try {\n      console.log('Adding stock to watchlist:', stock);\n      // Make the API request to add the stock to the watchlist\n      const email = localStorage.getItem('email');\n      const response = await fetch(`http://127.0.0.1:5000/users/${email}/watchlist`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(stock)\n      });\n      if (response) {\n        console.log(response);\n      } else {\n        console.log(\"no response\");\n      }\n    } catch (error) {\n      console.log('Error adding stock to watchlist:', error);\n      // Add your logic here for handling the error in adding the stock to the watchlist\n    }\n  };\n\n\n  return (\n    <div className=\"bg-gray-800 min-h-screen\">\n  <Navbar />\n  <div className=\"container mx-auto py-8\">\n    <h1 className=\"text-3xl font-bold text-white mb-4\">Popular Stocks</h1>\n    <div className=\"stock-cards grid grid-cols-2 gap-4\">\n      {stocks.length > 0 ? (\n        stocks.map((stock) => (\n          <div key={stock.symbol} className=\"bg-creamwhite rounded-lg p-4 flex flex-col justify-between\">\n            <div className=\"flex-grow\">\n              <StockCard stock={stock} />\n            </div>\n            <div className=\"flex justify-center mt-4\">\n              <button\n                className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\"\n                onClick={() => addToPortfolio(stock)}\n              >\n                Add to Portfolio\n              </button>\n              <button\n                className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg ml-4\"\n                onClick={() => addToWatchlist(stock)}\n              >\n                Add to Watchlist\n              </button>\n            </div>\n          </div>\n        ))\n      ) : (\n        <p className=\"text-white\">No stocks in section</p>\n      )}\n    </div>\n  </div>\n</div>\n\n  );\n};\n\nexport default PopularPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}